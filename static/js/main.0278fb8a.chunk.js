(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),c=n.n(o),l=(n(17),n(2)),i=n(3),s=n(5),u=n(4),d=n(7),m=n(6);n(18);var h=function(e){return a.a.createElement("div",{className:"intro-screen"},a.a.createElement("div",{className:"intro-screen-content"},a.a.createElement("h2",null,"Onion Or Not"),a.a.createElement("p",null,"Your high score: ",e.topScore),a.a.createElement("button",{onClick:e.click},"GO!"),a.a.createElement("div",{className:"info"},a.a.createElement("p",null,"How to play:"),a.a.createElement("ul",null,a.a.createElement("li",null,"The game gets two random headlines, one from ",a.a.createElement("a",{href:"http://www.reddit.com/r/nottheonion"},"/r/nottheonion")," (real headlines) and one from ",a.a.createElement("a",{href:"www.reddit.com/r/theonion"},"/r/theonion")," (fake headlines)."),a.a.createElement("li",null,"You need to click on the real headline (the post from ",a.a.createElement("a",{href:"http://www.reddit.com/r/nottheonion"},"/r/nottheonion"),")."),a.a.createElement("li",null,"How many can you get in a row?")))))},E=n(10),f=(n(19),function(){return a.a.createElement("div",{className:"loader-wrapper"},a.a.createElement("div",{className:"loader"}))});n(20),n(21);var p=function(e){var t=e.rounds.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.true.url},e.true.title)),a.a.createElement("td",null,a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.false.url},e.false.title)))});return a.a.createElement("div",{className:"review"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"/r/nottheonion ",a.a.createElement("p",null,"(real headline)")),a.a.createElement("th",null,"/r/theonion ",a.a.createElement("p",null,"(false headline)")))),a.a.createElement("tbody",null,t)))},w=function(e){var t=new m.a,n=t.get("oonTopScore")||0;return n<e.score&&(n=e.score,t.set("oonTopScore",n,{path:"/"})),a.a.createElement("div",{className:"end-screen"},a.a.createElement("div",{className:"gg"},a.a.createElement("h2",null,"GG!"),a.a.createElement("p",null,"Your score: ",e.score),a.a.createElement("p",null,"Your high score: ",n),a.a.createElement("button",{onClick:e.click},"Try again")),a.a.createElement("div",{className:"review-wrapper"},a.a.createElement(p,{rounds:e.rounds})))},v=(n(22),function(e){return a.a.createElement("div",{className:"choice"},a.a.createElement("p",{onClick:e.click},e.text))}),S=(n(23),function(e){return Math.random()>=.5?a.a.createElement("div",{className:"round"},a.a.createElement(v,{click:e.answerHandler,text:e.data.true.title}),a.a.createElement(v,{click:e.answerHandler,text:e.data.false.title})):a.a.createElement("div",{className:"round"},a.a.createElement(v,{click:e.answerHandler,text:e.data.false.title}),a.a.createElement(v,{click:e.answerHandler,text:e.data.true.title}))}),k=(n(24),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).retrievePost=function(e){return fetch("https://www.reddit.com/r/".concat(e,"/random.json")).then(function(e){return e.text()}).then(function(t){var r={title:(t=JSON.parse(t))[0].data.children[0].data.title,score:t[0].data.children[0].data.score,url:t[0].data.children[0].data.url};return r.score>=5?r:n.retrievePost(e)})},n.generateRound=function(){return Promise.all([n.retrievePost("nottheonion"),n.retrievePost("theonion")]).then(function(e){var t={true:e[0],false:e[1],selected:null},r=Object(E.a)(n.state.rounds);r.push(t),n.setState({rounds:r})})},n.componentWillMount=function(){return n.generateRound()},n.handleAnswer=function(e){n.state.rounds[n.state.currentScore].true.title===e.target.innerHTML?(n.setState({currentScore:n.state.currentScore+1}),n.generateRound()):n.setState({endGame:!0})},n.restartHandler=function(){n.setState(n.baseState),n.generateRound()},n.state={endGame:!1,topScore:e.topScore,currentScore:0,rounds:[]},n.baseState=n.state,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.endGame?a.a.createElement(w,{rounds:this.state.rounds,topScore:this.props.topScore,score:this.state.currentScore,click:this.restartHandler}):a.a.createElement("div",{className:"game"},a.a.createElement("p",{className:"score"},"Score: ",this.state.currentScore),this.state.rounds[this.state.currentScore]?a.a.createElement(S,{answerHandler:this.handleAnswer,data:this.state.rounds[this.state.currentScore]}):a.a.createElement(f,null))}}]),t}(r.Component)),g=function(e){function t(e){var n;Object(l.a)(this,t);var r=new m.a;return(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleStart=function(){n.setState({renderIntroScreen:!1})},n.state={renderIntroScreen:!0,topScore:r.get("oonTopScore")||0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.renderIntroScreen?a.a.createElement(h,{click:this.handleStart,topScore:this.state.topScore}):a.a.createElement(k,{topScore:this.state.topScore})}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,1,2]]]);
//# sourceMappingURL=main.0278fb8a.chunk.js.map